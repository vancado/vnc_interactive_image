<html
        xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
        data-namespace-typo3-fluid="true"
>

    <f:if condition="{interactiveImage}">
        <f:then>
            <!-- Check layout -->
            <f:variable name="layout">{interactiveImage.txVncinteractiveimageLayout}</f:variable>
            <f:variable name="showZoom">{interactiveImage.txVncinteractiveimageShowZoom}</f:variable>

            <div class="vncInteractiveImage"
                 data-show-zoom="{showZoom}"
                 data-layout="{layout}"
                 data-cut-out="true"
                 data-scroll-into-view="true"
            >
                <f:comment>
                    <f:if condition="{interactiveImage.txVncinteractiveimageName}">
                        <div class="row heading-block border-bottom-0 mb-2">
                            <h2>{interactiveImage.txVncinteractiveimageName}</h2>
                        </div>
                    </f:if>
                </f:comment>

                <div class="container" data-layout="{layout}">
                    <div class="row">
                        <f:if condition="{layout} === 'infoBox'">
                            <f:then>
                                <div class="col-lg-8 col-12">
                                    <div class="image-container">
                                        <f:image
                                                class="img-fluid"
                                                image="{interactiveImage.txVncinteractiveimageImage}"
                                                alt="{interactiveImage.txVncinteractiveimageName}"
                                        />
                                        <!-- Render Marks Container -->
                                        <f:render
                                                partial="MarksContainer"
                                                arguments="{interactiveImage: interactiveImage, layout: layout}"
                                        />
                                        <f:render section="zoomControls" arguments="{interactiveImage: interactiveImage, layout: layout}" />
                                    </div>
                                </div>
                                <div class="col-lg-4 col-12">
                                    <!-- Render Info Box -->
                                    <f:render
                                            partial="InfoBox"
                                            arguments="{interactiveImage: interactiveImage}"
                                    />
                                </div>
                            </f:then>
                        </f:if>
                    </div>
                </div>
                <f:if condition="{layout} === 'popover'">
                    <f:then>
                        <div class="col-12 relative">
                            <div class="image-container image-container--full-width">
                                <f:image
                                        class="img-fluid"
                                        image="{interactiveImage.txVncinteractiveimageImage}"
                                        alt="{interactiveImage.txVncinteractiveimageName}"
                                />

                                <f:render
                                        partial="MarksContainer"
                                        arguments="{interactiveImage: interactiveImage, layout: layout}"
                                />
                            </div>
                            <f:render section="zoomControls" arguments="{interactiveImage: interactiveImage, layout: layout}" />
                            <div class="col-12 mt-3">
                                <!-- Render Info Box -->
                                <f:render
                                    partial="InfoBox"
                                    arguments="{interactiveImage: interactiveImage}"
                                />
                            </div>
                        </div>
                    </f:then>
                </f:if>
            </div>

            <f:section name="zoomControls">
                <div class="zoom-controls">
                    <f:if condition="{interactiveImage.txVncinteractiveimageShowZoom}">
                        <button class="btn btn-primary" id="zoom-in" aria-label="Vergr&ouml;&szlig;ern">
                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                <path d="M10.0937 5H8.08123V8H5.0625V10H8.08123V13H10.0937V10H13.1125V8H10.0937V5Z" fill="#F0F0F0"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.1437 9C18.1437 11.12 17.399 13.07 16.1513 14.61L22.5812 21L21.1624 22.41L14.7325 16.03C13.1829 17.26 11.2207 18 9.08745 18C4.09648 18 0.03125 13.96 0.03125 9C0.03125 4.04 4.09648 0 9.08745 0C14.0784 0 18.1437 4.04 18.1437 9ZM2.04374 9C2.04374 12.86 5.20335 16 9.08745 16C12.9716 16 16.1312 12.86 16.1312 9C16.1312 5.14 12.9716 2 9.08745 2C5.20335 2 2.04374 5.14 2.04374 9Z" fill="#F0F0F0"/>
                            </svg>
                        </button>
                        <button class="btn btn-primary" id="zoom-out" aria-label="Verkleinern">
                            <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewBox="0 0 23 23" fill="none">
                                <rect x="5.0625" y="8" width="8.04996" height="2" fill="white" style="fill:white;fill-opacity:1;"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M18.1437 9C18.1437 11.12 17.399 13.07 16.1513 14.61L22.5812 21L21.1624 22.41L14.7325 16.03C13.1829 17.26 11.2207 18 9.08745 18C4.09648 18 0.03125 13.96 0.03125 9C0.03125 4.04 4.09648 0 9.08745 0C14.0784 0 18.1437 4.04 18.1437 9ZM2.04374 9C2.04374 12.86 5.20335 16 9.08745 16C12.9716 16 16.1312 12.86 16.1312 9C16.1312 5.14 12.9716 2 9.08745 2C5.20335 2 2.04374 5.14 2.04374 9Z" fill="white" style="fill:white;fill-opacity:1;"/>
                            </svg>
                        </button>
                    </f:if>
                    <f:if condition="{interactiveImage.txVncinteractiveimageShowFullscreen} && {layout} === 'popover'">
                        <button class="btn btn-primary" id="fullscreen" aria-label="Vollbildschirm">
                            <i class="fa fa-expand"
                            ><svg
                                    width="24"
                                    height="20"
                                    viewBox="0 0 24 20"
                                    fill="none"
                                    xmlns="http://www.w3.org/2000/svg"
                            >
                                <g id="Group 20">
                                    <path
                                            id="Vector"
                                            d="M21 0H3C1.35 0 0 1.35 0 3V17C0 18.65 1.35 20 3 20H21C22.65 20 24 18.65 24 17V3C24 1.35 22.65 0 21 0ZM22 17C22 17.55 21.55 18 21 18H3C2.45 18 2 17.55 2 17V3C2 2.45 2.45 2 3 2H21C21.55 2 22 2.45 22 3V17Z"
                                            fill="white"
                                            style="fill: white; fill-opacity: 1"
                                    />
                                    <path
                                            id="Vector_2"
                                            d="M6 10H4V16H10V14H6V10Z"
                                            fill="white"
                                            style="fill: white; fill-opacity: 1"
                                    />
                                    <path
                                            id="Vector_3"
                                            d="M14 6H18V10H20V4H14V6Z"
                                            fill="white"
                                            style="fill: white; fill-opacity: 1"
                                    />
                                </g>
                            </svg>
                            </i>
                        </button>
                    </f:if>
                </div>
            </f:section>
        </f:then>
    </f:if>

</html>
